---
import Img from './Img.astro';
import { Props, mapSources } from '../config';

const { src, alt, classlist, lazy, sizes, formats, draggable, adaptiveModes } = Astro.props;
const useSources = mapSources(src, formats, adaptiveModes);
---

<picture class={classlist} data-maddsua-component="astro:ssgassets:picture">
	{ useSources?.map(item => (
		<source srcset={item.source} type={item.type} media={item.media} />
	)) }
	<Img src={src} alt={alt} draggable={draggable} lazy={lazy} sizes={sizes} />
</picture>
