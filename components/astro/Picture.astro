---
import Img from './Img.astro';
import { PictireProps, mapSources, adaptBaseImageUrl, classToString } from '../components_shared';

export interface Props extends PictireProps {};
const props = Astro.props;

const sources = mapSources(props.src, props.formats, props.adaptiveModes);
---

<picture class={classToString(props.class)} data-maddsua-component="astro:ssgassets:picture">
	{ sources.map(item => (
		<source srcset={item.source} type={item.type} media={item.media} />
	)) }
	<Img src={adaptBaseImageUrl(props.src)} alt={props.alt} draggable={props.draggable} lazy={props.lazy} sizes={props.sizes} class={props.imgClass} />
</picture>
