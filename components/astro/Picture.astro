---
import Img from './Img.astro';
import { PictireProps, mapSources, adaptBaseImageUrl, classToString, styleToString } from '../common/setup';

export interface Props extends PictireProps {};
const props = Astro.props;
const sources = mapSources(props.src, props.formats, props.adaptiveModes);
---

<picture class={classToString(props.class)} style={styleToString(props.style)} data-component-id="ssga:picture:astro">
	{ sources.map(item => (
		<source srcset={item.source} type={item.type} media={item.media} />
	)) }
	<Img src={adaptBaseImageUrl(props.src, props.adaptiveModes)} alt={props.alt} draggable={props.draggable} lazy={props.lazy} sizes={props.sizes} class={props.imgClass} style={props.imgStyle} />
</picture>
