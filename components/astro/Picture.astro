---
import Img from './Img.astro';
import { type PictireProps, mapSources, classToString, styleToString } from '../index';

export interface Props extends PictireProps {};
const props = Astro.props;
const sources = mapSources(props.src, props.formats, props.adaptiveMode);
---

<picture class={classToString(props.class)} style={styleToString(props.style)} data-ssga-id="picture:astro">

	{ sources.map(item => (
		<source srcset={item.source} type={item.type} media={item.media} />
	)) }

	<Img src={props.src}
		alt={props.alt}
		draggable={props.draggable}
		lazy={props.lazy}
		sizes={props.sizes}
		class={props.imgClass}
		style={props.imgStyle}
	/>

</picture>
